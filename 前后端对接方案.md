# 前后端对接方案

## 目录结构

```
src/
├── api/              # API 接口定义
│   ├── index.js      # API 统一导出
│   ├── reportManagement.js  # 报表管理相关接口
│   ├── fieldConfig.js       # 字段配置相关接口
│   └── reportBrowse.js     # 报表浏览相关接口
├── utils/
│   ├── request.js    # HTTP 请求封装（axios）
│   └── common.js     # 通用工具函数
└── ...
```

## 步骤说明

### 1. 安装 axios
```bash
npm install axios
```

### 2. 创建 HTTP 请求工具
- 封装 axios
- 统一处理请求/响应拦截
- 错误处理
- Token 管理

### 3. 创建 API 接口文件
- 为每个页面创建对应的 API 文件
- 定义所有接口方法
- 统一导出

### 4. 在页面中使用 API
- 替换模拟数据
- 调用真实接口
- 处理加载状态和错误

## 接口规范示例

### 报表管理接口
- `GET /api/report/templates` - 获取模板列表
- `POST /api/report/templates` - 创建模板
- `PUT /api/report/templates/{id}` - 更新模板
- `DELETE /api/report/templates/{id}` - 删除模板
- `POST /api/report/templates/batch-delete` - 批量删除
- `POST /api/report/templates/{id}/upload` - 上传模板文件
- `GET /api/report/templates/{id}/download` - 下载模板文件

### 字段配置接口
- `GET /api/field-config?templateCode={code}` - 获取字段配置列表
- `POST /api/field-config` - 创建字段配置
- `PUT /api/field-config/{id}` - 更新字段配置
- `DELETE /api/field-config/{id}` - 删除字段配置
- `POST /api/field-config/export` - 导出配置
- `POST /api/field-config/import` - 导入配置

### 报表浏览接口
- `GET /api/report/browse/headers` - 获取表头
- `POST /api/report/browse/query` - 查询报表数据
- `POST /api/report/browse/export` - 导出报表

## 数据格式规范

### 请求格式
```json
{
  "page": 1,
  "pageSize": 20,
  "keyword": "搜索关键词",
  "filters": {}
}
```

### 响应格式
```json
{
  "code": 200,
  "message": "success",
  "data": {
    "list": [],
    "total": 100,
    "page": 1,
    "pageSize": 20
  }
}
```

## 使用方式

1. 告诉我你的后端接口地址和规范
2. 我可以帮你创建完整的 API 服务层
3. 替换页面中的模拟数据为真实接口调用
4. 添加错误处理和加载状态




